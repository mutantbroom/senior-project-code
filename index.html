<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
<style>
ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
    overflow: hidden;
}

li {
    float: left;
}

li a {
    display: block;
    padding: 8px;
    background-color: #008000;
}
</style>
  </head>
<body>
<ul>
  <li><a href="#game">Game</a></li>
  <li><a href="#otherPage">Other page</a></li>
</ul>
  <h1>Game</h1>
  
                <p>
                                What will your character name be? 
                                <input id="name" type="text">
                                <button onclick="mainGame();" id="button1">Enter</button>
                </p>

                <p>
        <button onclick="attack();" id="button2" style="visibility:hidden">Attack</button>    
                </p>

                <p>
        <button onclick="three();" id="button3" style="visibility:hidden">Use Item</button>  
                </p>  
  <div id="lastTurn"></div>
  <div id="roundTurn"></div>
  <div id="playerStats"></div>
  <div id="enemyStats"></div>
  <div id="content"></div>
               
  <script>
  var roundT;
  var pStats;
  var eStats;
  var lastT;
  var roun=1;
  var Player;
  var Enemy;
  var content;

//constructors for player and enemy
function character(name,health,attack,defense){
               this.name=name;
               this.health=health;
               this.attack=attack;
    this.defense=defense;
}
function player(name,health,attack,defense,inventory){
               character.call(this,name,health,attack,defense);
    			this.inventory=inventory;
		this.getName = function(){
		return this.name;
		};
		this.getHealth = function(){
		return this.health;
		};
		this.changeHealth = function(change){
		this.health -= change;
		};
		this.getAttack = function(){
		return this.attack;
		};
		this.getDefense = function(){
		return this.defense;
		};
}
function enemy(name,health,attack,defense,round){
               character.call(this,name,health,attack,defense);
               this.round=round;
		this.getName = function(){
		return this.name;
		};
		this.getHealth = function(){
		return this.health;
		};
		this.changeHealth = function(change){
		this.health -= change;
		};
		this.getAttack = function(){
		return this.attack;
		};
		this.getDefense = function(){
		return this.defense;
		};
}


function mainGame () 
{
                name();
                enemySelector();
                textManager();
}
//puts pStats and eStats into text on screen
function textManager ()
{
			document.getElementById("lastTurn").textContent=lastT;
            document.getElementById("playerStats").textContent= pStats;
    		document.getElementById("enemyStats").textContent= eStats; 
		document.getElementById("content").textContent= content;   

}

function randNum(){
              return Math.round(((Math.random()*10) +1));
}
function name(){
                                                            var name = document.getElementById("name").value;
                Player=new player(name, 1000, 50, 50, "placeholder items");
                
                 
                if (name.length > 0)
                {                              
                                document.getElementById("button1").style.visibility= 'hidden';
                                document.getElementById("button2").style.visibility = 'visible';
                                document.getElementById("button3").style.visibility = 'visible';
                }
                pStats="You are " + Player.getName() + ". Your health is " + Player.getHealth() + ".";
}
function enemySelector(){
               var rand = Math.round(Math.random()*2);
    if(rand == 0){
     Enemy=new enemy("orc", 1000, 15, 10, roun);
    }if(rand == 1){
     Enemy=new enemy("troll", 1000, 15, 10, roun);
    }if (rand == 2){
     Enemy = new enemy("skeleton", 1000, 15, 10, roun);
    }
               eStats= Enemy.getName() + " appeared! It has " + Enemy.getHealth() + " health.";
}

function attack(){
               var damage=Math.round((Math.random()*((Player.getAttack()+10)-(Player.getAttack()-10)+1))+(Player.getAttack()-10));
               Enemy.changeHealth(damage);
               lastT=Player.getName() + " attacked and did " + damage + " damage.";
		eStats = Enemy.getName() + " has " + Enemy.getHealth() + " health left.";
               enemyTurn();
}
function three(){
               
               //var message="You clicked button 3. Your number is " + randNum();
     //document.getElementById("content").textContent = message;

}
function enemyTurn(){
	eDamage=Math.round((Math.random()*((Enemy.getAttack()+10)-(Enemy.getAttack()-10)+1))+(Enemy.getAttack()-10));
    Player.changeHealth(eDamage);
    lastT += Enemy.getName() + " attacked and did " + eDamage + " damage.";
	
	pStats = Player.getName() + " has " + Player.getHealth() + " health left.";
	winCheck();
    textManager();


}
function winCheck(){
	if(Enemy.getHealth() <= 0 && Player.getHealth() > 0){
		
		lastT = null;
		eStats = null;
		pStats = null;
		document.getElementById("button2").style.visibility = 'hidden';
                document.getElementById("button3").style.visibility = 'hidden';
		content="you win";
	}
	 if(Player.getHealth() <= 0 && Enemy.getHealth() > 0){
		lastT = null;
		eStats = null;
		pStats = null;
		document.getElementById("button2").style.visibility = 'hidden';
                document.getElementById("button3").style.visibility = 'hidden';
		content="you lose";
	}
	 if(Player.getHealth() <= 0 && Enemy.getHealth() <= 0){
		lastT = null;
		eStats = null;
		pStats = null;
		document.getElementById("button2").style.visibility = 'hidden';
                document.getElementById("button3").style.visibility = 'hidden';
		content = "you tied";
	}
	
	textManager();	


}	



</script>
</body>
</html>
